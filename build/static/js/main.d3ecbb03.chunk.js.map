{"version":3,"sources":["data/products.ts","context/global.context.tsx","pages/cart/Cart.tsx","pages/product-list/ProductList.tsx","App.tsx","reportWebVitals.js","index.js"],"names":["PRODUCTS","productId","productName","productPrice","maxBuyLimit","showInventoryWarningLimit","INVENTORY","currentQuantity","GlobalContext","React","products","inventory","cart","addToCart","undefined","removeFromCart","viewType","setviewType","GlobalContextProvider","props","setinventory","setcart","Provider","value","product","_inventory","Object","assign","item","find","_cart","index","findIndex","splice","children","Cart","globalContext","useContext","getProduct","total","forEach","calculateCartTotal","Table","striped","bordered","hover","map","onClick","handleRemove","ProductList","useEffect","console","log","handleAddToCartTap","len","filter","length","itemInvetory","alert","checkForStockWarning","className","to","Button","App","style","margin","Consumer","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d3ecbb03.chunk.js","sourcesContent":["export interface ProductItem {\n    productId: string;\n    productName: string;\n    productPrice: number;\n    maxBuyLimit: number;\n    showInventoryWarningLimit: number\n}\n\nexport interface InvetoryItem {\n    productId: string;\n    currentQuantity: number;\n}\n\n\nexport const PRODUCTS: ProductItem[] = [\n    {\n        productId: '1',\n        productName: 'Macbook Pro',\n        productPrice: 120000,\n        maxBuyLimit: 3,\n        showInventoryWarningLimit: 1\n    },\n    {\n        productId: '2',\n        productName: 'iPhone',\n        productPrice: 80000,\n        maxBuyLimit: 2,\n        showInventoryWarningLimit: 1\n    },\n    {\n        productId: '3',\n        productName: 'iWatch',\n        productPrice: 30000,\n        maxBuyLimit: 2,\n        showInventoryWarningLimit: 10\n    },\n    {\n        productId: '4',\n        productName: 'iPad',\n        productPrice: 60000,\n        maxBuyLimit: 2,\n        showInventoryWarningLimit: 1\n    }\n]\n\nexport const INVENTORY: InvetoryItem[] = [\n    {\n        productId: '1',\n        currentQuantity: 5\n    },\n    {\n        productId: '2',\n        currentQuantity: 10\n    },\n    {\n        productId: '3',\n        currentQuantity: 8\n    },\n    {\n        productId: '4',\n        currentQuantity: 9\n    }\n]","import * as React from \"react\";\nimport { ProductItem, PRODUCTS, InvetoryItem, INVENTORY } from \"../data/products\";\n\nexport interface GlobalContextProps {\n  products: ProductItem[];\n  inventory: InvetoryItem[];\n  cart: any;\n  addToCart: any;\n  removeFromCart: any;\n  viewType: boolean;\n  setviewType: any;\n}\n\nexport const GlobalContext = React.createContext<GlobalContextProps>({\n  products: [],\n  inventory: [],\n  cart: [],\n  addToCart: undefined,\n  removeFromCart: undefined,\n  viewType: false,\n  setviewType: undefined\n});\n\nexport const GlobalContextProvider = (props: any) => {\n  const [products, setproducts] = React.useState(PRODUCTS);\n  const [inventory, setinventory] = React.useState(INVENTORY);\n  const [cart, setcart] = React.useState<string[] | []>([]);\n  const [viewType, setviewType] = React.useState(false);\n\n  const addToCart = (product: ProductItem) => {\n    // update cart\n    setcart([...cart, product.productId]);\n\n    // Update invetory\n    let _inventory: InvetoryItem[] = Object.assign([], inventory);\n    let item = _inventory.find((item: InvetoryItem) => item.productId === product.productId);\n    if (item) {\n      let currentQuantity = item?.currentQuantity;\n      item[\"currentQuantity\"] = currentQuantity - 1;\n      setinventory(_inventory);\n    }\n  };\n\n  const removeFromCart = (productId: string) => {\n    let _cart = Object.assign([], cart);\n    let index = _cart.findIndex((item: string) => item === productId);\n    _cart.splice(index, 1);\n    setcart(_cart);\n  };\n\n  return (\n    <GlobalContext.Provider\n      value={{\n        products,\n        cart,\n        addToCart,\n        inventory,\n        removeFromCart,\n        viewType,\n        setviewType,\n      }}>\n      {props.children}\n    </GlobalContext.Provider>\n  );\n};\n","import { useContext, useEffect } from \"react\";\nimport { Table } from \"react-bootstrap\";\nimport { GlobalContext } from \"../../context/global.context\";\n\ninterface CartProps {}\n\nconst Cart: React.FC<CartProps> = () => {\n  const globalContext = useContext(GlobalContext);\n\n  const getProduct = (productId: string) => {\n    return globalContext.products.find((item) => item.productId === productId);\n  };\n\n  const handleRemove = (productId: string) => {\n    globalContext.removeFromCart(productId);\n  };\n\n  const calculateCartTotal = () => {\n    let total = 0;\n    globalContext.cart.forEach((productId: string) => {\n      let product = globalContext.products.find((item) => item.productId === productId);\n      if (product) {\n        total = total + product.productPrice;\n      }\n    });\n    return total;\n  };\n\n  return (\n    <>\n      <h1>Cart</h1>\n      <h3>Total price: {calculateCartTotal()}</h3>\n\n      <Table striped bordered hover>\n        <thead>\n          <tr>\n            <th>Product Name</th>\n            <th>Product Price</th>\n            <th>Product Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          {globalContext.cart.map((productId: string) => (\n            <tr>\n              <td>{getProduct(productId)?.productName}</td>\n              <td>{getProduct(productId)?.productPrice}</td>\n              <td>\n                <button\n                  onClick={() => {\n                    handleRemove(productId);\n                  }}>\n                  Remove\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n    </>\n  );\n};\n\nexport default Cart;\n","import { useContext, useEffect } from \"react\";\nimport { Alert, Button, Table } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { GlobalContext } from \"../../context/global.context\";\nimport { ProductItem, InvetoryItem } from \"../../data/products\";\n\ninterface ProductListProps {}\n\nconst ProductList: React.FC<ProductListProps> = () => {\n  const globalContext = useContext(GlobalContext);\n\n  useEffect(() => {\n    console.log(globalContext);\n  }, []);\n\n  const handleAddToCartTap = (product: ProductItem) => {\n    let len = globalContext.cart.filter((item: string) => product.productId === item).length;\n    let itemInvetory = globalContext.inventory.find((item: InvetoryItem) => item.productId === product.productId);\n\n    if (itemInvetory?.currentQuantity === 0) {\n      alert(\"Sorry! Out of stock.\");\n    } else {\n      if (len >= product.maxBuyLimit) {\n        alert(\"Max limit reached\");\n      } else {\n        globalContext.addToCart(product);\n      }\n    }\n  };\n\n  const checkForStockWarning = (product: ProductItem) => {\n    let currentQuantity = globalContext.inventory.find((item) => item.productId === product.productId)?.currentQuantity;\n\n    if (currentQuantity && currentQuantity <= product.showInventoryWarningLimit) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const toggleView = () => {\n    globalContext.setviewType(!globalContext.viewType);\n  };\n\n  return (\n    <>\n      <h1>Products</h1>\n      <h3 className=\"mb-2\">Total items in cart: {globalContext.cart.length}</h3>\n      <Link className=\"mb-2\" to=\"cart\">View cart</Link>\n      <br />\n      <Button className=\"mb-2\" onClick={toggleView}>Toggle view</Button>\n\n      {globalContext.viewType && (\n        <ul className=\"list-group\">\n          {globalContext.products.map((item, index) => (\n            <li>\n              <p>{item.productName}</p>\n              <p>{item.productPrice}</p>\n              <div>\n                <button\n                  onClick={() => {\n                    handleAddToCartTap(item);\n                  }}>\n                  Add to cart\n                </button>\n              </div>\n              <div>{checkForStockWarning(item) ? \"Limited Stock\" : \"In stock\"}</div>\n            </li>\n          ))}\n\n          {/* <li className=\"list-group-item\"></li>\n          <li className=\"list-group-item\">Second item</li> */}\n          {/* <li className=\"list-group-item\">Third item</li> */}\n        </ul>\n      )}\n\n      {!globalContext.viewType && (\n        <Table striped bordered hover>\n          <thead>\n            <tr>\n              <th>Product Name</th>\n              <th>Product Price</th>\n              <th>Product Action</th>\n              <th>Status</th>\n            </tr>\n          </thead>\n          <tbody>\n            {globalContext.products.map((item, index) => (\n              <tr>\n                <td>{item.productName}</td>\n                <td>{item.productPrice}</td>\n                <td>\n                  <button\n                    onClick={() => {\n                      handleAddToCartTap(item);\n                    }}>\n                    Add to cart\n                  </button>\n                </td>\n                <td>{checkForStockWarning(item) ? \"Limited Stock\" : \"In stock\"}</td>\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      )}\n    </>\n  );\n};\n\nexport default ProductList;\n","import \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport { GlobalContext, GlobalContextProvider } from \"./context/global.context\";\n\n// Components\nimport Cart from './pages/cart/Cart';\nimport ProductList from \"./pages/product-list/ProductList\";\n\nfunction App() {\n  return (\n    <div style={{margin:' 200px'}}>\n      <GlobalContextProvider>\n        <Router>\n          <GlobalContext.Consumer>\n            {(globalContext) => (\n              <div>\n\n                {/* A <Switch> looks through its children <Route>s and\n            renders the first one that matches the current URL. */}\n                <Switch>\n                  <Route exact path=\"/\">\n                    <ProductList />\n                  </Route>\n                  <Route path=\"/cart\">\n                    <Cart />\n                  </Route>\n                </Switch>\n              </div>\n            )}\n          </GlobalContext.Consumer>\n        </Router>\n      </GlobalContextProvider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}