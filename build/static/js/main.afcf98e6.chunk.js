(this["webpackJsonpreact-shopping-cart"]=this["webpackJsonpreact-shopping-cart"]||[]).push([[0],{26:function(t,r,c){},27:function(t,r,c){},38:function(t,r,c){"use strict";c.r(r);var e=c(0),n=c.n(e),i=c(16),d=c.n(i),o=(c(26),c(27),c(28),c(11)),u=c(2),a=c(20),j=c(12),s=[{productId:"1",productName:"Macbook Pro",productPrice:12e4,maxBuyLimit:3,showInventoryWarningLimit:1},{productId:"2",productName:"iPhone",productPrice:8e4,maxBuyLimit:2,showInventoryWarningLimit:1},{productId:"3",productName:"iWatch",productPrice:3e4,maxBuyLimit:2,showInventoryWarningLimit:10},{productId:"4",productName:"iPad",productPrice:6e4,maxBuyLimit:2,showInventoryWarningLimit:1}],h=[{productId:"1",currentQuantity:5},{productId:"2",currentQuantity:10},{productId:"3",currentQuantity:8},{productId:"4",currentQuantity:9}],l=c(1),b=e.createContext({products:[],inventory:[],cart:[],addToCart:void 0,removeFromCart:void 0}),x=function(t){var r=e.useState(s),c=Object(j.a)(r,2),n=c[0],i=(c[1],e.useState(h)),d=Object(j.a)(i,2),o=d[0],u=d[1],x=e.useState([]),O=Object(j.a)(x,2),p=O[0],v=O[1];return Object(l.jsx)(b.Provider,{value:{products:n,cart:p,addToCart:function(t){v([].concat(Object(a.a)(p),[t.productId]));var r=Object.assign([],o),c=r.find((function(r){return r.productId===t.productId}));if(c){var e=null===c||void 0===c?void 0:c.currentQuantity;c.currentQuantity=e-1,u(r)}},inventory:o,removeFromCart:function(t){var r=Object.assign([],p),c=r.findIndex((function(r){return r===t}));r.splice(c,1),v(r)}},children:t.children})},O=c(39),p=function(){var t=Object(e.useContext)(b),r=function(r){return t.products.find((function(t){return t.productId===r}))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"Cart"}),Object(l.jsxs)("h3",{children:["Total price: ",function(){var r=0;return t.cart.forEach((function(c){var e=t.products.find((function(t){return t.productId===c}));e&&(r+=e.productPrice)})),r}()]}),Object(l.jsxs)(O.a,{striped:!0,bordered:!0,hover:!0,children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Product Name"}),Object(l.jsx)("th",{children:"Product Price"}),Object(l.jsx)("th",{children:"Product Action"})]})}),Object(l.jsx)("tbody",{children:t.cart.map((function(c){var e,n;return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:null===(e=r(c))||void 0===e?void 0:e.productName}),Object(l.jsx)("td",{children:null===(n=r(c))||void 0===n?void 0:n.productPrice}),Object(l.jsx)("td",{children:Object(l.jsx)("button",{onClick:function(){!function(r){t.removeFromCart(r)}(c)},children:"Remove"})})]})}))})]})]})},v=function(){var t=Object(e.useContext)(b);Object(e.useEffect)((function(){console.log(t)}),[]);var r=function(r){var c,e=null===(c=t.inventory.find((function(t){return t.productId===r.productId})))||void 0===c?void 0:c.currentQuantity;return!!(e&&e<=r.showInventoryWarningLimit)};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"Products"}),Object(l.jsxs)("h3",{children:["Total items in cart: ",t.cart.length]}),Object(l.jsx)(o.b,{to:"cart",children:"View cart"}),Object(l.jsxs)(O.a,{striped:!0,bordered:!0,hover:!0,children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Product Name"}),Object(l.jsx)("th",{children:"Product Price"}),Object(l.jsx)("th",{children:"Product Action"}),Object(l.jsx)("th",{children:"Status"})]})}),Object(l.jsx)("tbody",{children:t.products.map((function(c,e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:c.productName}),Object(l.jsx)("td",{children:c.productPrice}),Object(l.jsx)("td",{children:Object(l.jsx)("button",{onClick:function(){!function(r){var c=t.cart.filter((function(t){return r.productId===t})).length,e=t.inventory.find((function(t){return t.productId===r.productId}));0===(null===e||void 0===e?void 0:e.currentQuantity)?alert("Sorry! Out of stock."):c>=r.maxBuyLimit?alert("Max limit reached"):t.addToCart(r)}(c)},children:"Add to cart"})}),Object(l.jsx)("td",{children:r(c)?"Limited Stock":"In stock"})]})}))})]})]})};var f=function(){return Object(l.jsx)("div",{style:{margin:" 200px"},children:Object(l.jsx)(x,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(b.Consumer,{children:function(t){return Object(l.jsx)("div",{children:Object(l.jsxs)(u.c,{children:[Object(l.jsx)(u.a,{exact:!0,path:"/",children:Object(l.jsx)(v,{})}),Object(l.jsx)(u.a,{path:"/cart",children:Object(l.jsx)(p,{})})]})})}})})})})},m=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,40)).then((function(r){var c=r.getCLS,e=r.getFID,n=r.getFCP,i=r.getLCP,d=r.getTTFB;c(t),e(t),n(t),i(t),d(t)}))};d.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(f,{})}),document.getElementById("root")),m()}},[[38,1,2]]]);
//# sourceMappingURL=main.afcf98e6.chunk.js.map